==================== ALGORITHM: FedFomo ====================                   
Experiment Arguments:                                                          
{                                                                              
    'model': 'ModifiedVGG11',                                                  
    'dataset': 'medmnistA',                                                    
    'seed': 42,                                                                
    'join_ratio': 0.1,                                                         
    'global_epoch': 200,                                                       
    'local_epoch': 5,                                                          
    'finetune_epoch': 0,                                                       
    'test_gap': 100,                                                           
    'eval_test': 1,                                                            
    'eval_train': 0,                                                           
    'local_lr': 0.01,                                                          
    'momentum': 0.0,                                                           
    'weight_decay': 0.0,                                                       
    'verbose_gap': 10,                                                         
    'batch_size': 32,                                                          
    'visible': 1,                                                              
    'global_testset': 0,                                                       
    'straggler_ratio': 0,                                                      
    'straggler_min_local_epoch': 1,                                            
    'external_model_params_file': '',                                          
    'use_cuda': 1,                                                             
    'save_log': 1,                                                             
    'save_model': 0,                                                           
    'save_fig': 1,                                                             
    'save_metrics': 1,                                                         
    'viz_win_name': None,                                                      
    'M': 5,                                                                    
    'valset_ratio': 0.2,                                                       
    'dataset_args': {                                                          
        'dataset': 'medmnistA',                                                
        'client_num': 100,                                                     
        'fraction': 0.5,                                                       
        'seed': 42,                                                            
        'split': 'sample',                                                     
        'alpha': 1.0,                                                          
        'least_samples': 40                                                    
    }                                                                          
}                                                                              
-------------------------- TRAINING EPOCH: 10 --------------------------       
client [77] (test)  loss: 1.8517 -> 1.5110   acc: 48.56% -> 48.56%             
client [81] (test)  loss: 2.3353 -> 2.2805   acc: 22.57% -> 28.76%             
client [21] (test)  loss: 2.3134 -> 2.0661   acc: 27.73% -> 27.73%             
client [68] (test)  loss: 2.3169 -> 2.2267   acc: 19.06% -> 19.06%             
client [93] (test)  loss: 0.9909 -> 0.7436   acc: 78.78% -> 78.78%             
client [31] (test)  loss: 2.3799 -> 2.3501   acc: 16.30% -> 16.30%             
client [20] (test)  loss: 0.8850 -> 0.8014   acc: 67.65% -> 72.55%             
client [59] (test)  loss: 2.4043 -> 2.3341   acc: 6.95% -> 27.81%              
client [48] (test)  loss: 1.4660 -> 1.1601   acc: 40.20% -> 60.47%             
client [34] (test)  loss: 1.2115 -> 1.1032   acc: 52.96% -> 54.03%             
-------------------------- TRAINING EPOCH: 20 --------------------------       
client [69] (test)  loss: 1.7826 -> 1.5693   acc: 33.44% -> 46.82%             
client [99] (test)  loss: 1.9413 -> 1.6540   acc: 32.07% -> 44.48%             
client [67] (test)  loss: 1.8799 -> 1.4754   acc: 33.20% -> 49.81%             
client [0] (test)  loss: 1.7518 -> 0.7914   acc: 37.70% -> 76.39%              
client [76] (test)  loss: 1.5564 -> 1.8037   acc: 45.23% -> 40.87%             
client [41] (test)  loss: 1.8844 -> 1.5776   acc: 50.00% -> 46.80%             
client [62] (test)  loss: 2.3591 -> 1.8760   acc: 54.86% -> 54.86%             
client [2] (test)  loss: 2.3808 -> 2.2497   acc: 8.98% -> 36.23%               
client [14] (test)  loss: 0.7050 -> 0.6287   acc: 74.24% -> 73.94%             
client [46] (test)  loss: 1.3415 -> 0.8676   acc: 53.85% -> 72.22%             
-------------------------- TRAINING EPOCH: 30 --------------------------       
client [24] (test)  loss: 0.6600 -> 0.6330   acc: 74.87% -> 77.92%             
client [68] (test)  loss: 1.1794 -> 1.0507   acc: 56.83% -> 62.95%             
client [57] (test)  loss: 2.3431 -> 2.3109   acc: 45.41% -> 37.24%             
client [17] (test)  loss: 2.2159 -> 0.6943   acc: 51.37% -> 73.97%             
client [54] (test)  loss: 0.4628 -> 0.5033   acc: 82.13% -> 81.37%             
client [23] (test)  loss: 0.6052 -> 0.5267   acc: 78.61% -> 82.50%             
client [35] (test)  loss: 1.4009 -> 1.2167   acc: 56.02% -> 65.28%             
client [59] (test)  loss: 0.7362 -> 0.5699   acc: 73.18% -> 79.47%             
client [31] (test)  loss: 1.5958 -> 1.4302   acc: 48.02% -> 56.39%             
client [9] (test)  loss: 0.9009 -> 0.8131   acc: 68.14% -> 75.22%              
-------------------------- TRAINING EPOCH: 40 --------------------------       
client [64] (test)  loss: 0.5740 -> 0.5616   acc: 81.01% -> 81.65%             
client [33] (test)  loss: 0.3721 -> 0.4198   acc: 88.31% -> 88.31%             
client [16] (test)  loss: 0.4606 -> 0.3744   acc: 84.76% -> 85.87%             
client [44] (test)  loss: 0.5208 -> 0.4410   acc: 84.99% -> 85.55%             
client [8] (test)  loss: 0.4221 -> 0.4437   acc: 86.89% -> 86.56%              
client [31] (test)  loss: 0.7031 -> 0.7467   acc: 75.33% -> 74.45%             
client [47] (test)  loss: 0.7621 -> 0.7181   acc: 68.37% -> 69.88%             
client [36] (test)  loss: 0.6227 -> 0.5640   acc: 76.64% -> 78.62%             
client [20] (test)  loss: 0.4690 -> 0.4926   acc: 85.29% -> 85.95%             
client [56] (test)  loss: 0.3185 -> 0.3122   acc: 89.26% -> 89.88%             
-------------------------- TRAINING EPOCH: 50 --------------------------       
client [4] (test)  loss: 0.2200 -> 0.2168   acc: 92.83% -> 93.49%              
client [60] (test)  loss: 0.3410 -> 0.3085   acc: 87.65% -> 90.12%             
client [28] (test)  loss: 1.9055 -> 1.8032   acc: 23.02% -> 28.97%             
client [25] (test)  loss: 0.8861 -> 0.4473   acc: 78.27% -> 87.22%             
client [58] (test)  loss: 0.5548 -> 0.6332   acc: 85.64% -> 82.87%             
client [44] (test)  loss: 0.4410 -> 0.5933   acc: 85.55% -> 79.60%             
client [39] (test)  loss: 0.5349 -> 0.3624   acc: 81.69% -> 88.66%             
client [29] (test)  loss: 1.0860 -> 0.6685   acc: 66.09% -> 77.68%             
client [3] (test)  loss: 0.4164 -> 0.5467   acc: 87.91% -> 87.58%              
client [84] (test)  loss: 0.5132 -> 0.5262   acc: 82.92% -> 82.21%             
-------------------------- TRAINING EPOCH: 60 --------------------------       
client [21] (test)  loss: 0.5023 -> 0.5481   acc: 85.98% -> 86.92%             
client [84] (test)  loss: 0.5810 -> 0.5933   acc: 81.85% -> 81.14%             
client [10] (test)  loss: 0.4906 -> 0.5582   acc: 82.42% -> 81.25%             
client [36] (test)  loss: 0.5258 -> 0.5244   acc: 81.58% -> 82.24%             
client [65] (test)  loss: 1.0423 -> 0.4265   acc: 77.88% -> 88.14%             
client [81] (test)  loss: 0.8361 -> 0.7110   acc: 73.01% -> 76.11%             
client [79] (test)  loss: 0.6224 -> 0.6527   acc: 76.82% -> 76.82%             
client [42] (test)  loss: 0.7971 -> 0.7028   acc: 72.37% -> 76.28%             
client [11] (test)  loss: 0.9757 -> 1.0494   acc: 68.07% -> 63.45%             
client [96] (test)  loss: 0.7887 -> 0.9402   acc: 77.66% -> 73.76%             
-------------------------- TRAINING EPOCH: 70 --------------------------       
client [8] (test)  loss: 0.4686 -> 0.4846   acc: 87.21% -> 87.54%              
client [53] (test)  loss: 0.8004 -> 0.7297   acc: 72.94% -> 76.08%             
client [52] (test)  loss: 0.4993 -> 0.5328   acc: 88.82% -> 88.18%             
client [42] (test)  loss: 0.7471 -> 0.8341   acc: 76.88% -> 76.58%             
client [69] (test)  loss: 0.4460 -> 0.3656   acc: 87.96% -> 88.63%             
client [59] (test)  loss: 0.2811 -> 0.3190   acc: 92.38% -> 92.05%             
client [7] (test)  loss: 0.4296 -> 1.8279   acc: 88.18% -> 31.41%              
client [26] (test)  loss: 0.2525 -> 0.2580   acc: 91.84% -> 91.07%             
client [49] (test)  loss: 0.1504 -> 0.1562   acc: 96.43% -> 96.75%             
client [98] (test)  loss: 0.5338 -> 0.5485   acc: 83.77% -> 84.29%             
-------------------------- TRAINING EPOCH: 80 --------------------------       
client [98] (test)  loss: 0.5485 -> 0.5645   acc: 84.29% -> 84.29%             
client [47] (test)  loss: 0.6875 -> 0.6601   acc: 71.99% -> 73.49%             
client [21] (test)  loss: 0.4506 -> 0.4095   acc: 87.85% -> 88.79%             
client [77] (test)  loss: 0.6550 -> 0.6558   acc: 79.90% -> 80.42%             
client [95] (test)  loss: 0.6744 -> 0.6954   acc: 77.11% -> 78.71%             
client [91] (test)  loss: 0.8394 -> 0.4987   acc: 74.33% -> 83.96%             
client [14] (test)  loss: 0.1915 -> 0.1938   acc: 95.45% -> 95.45%             
client [99] (test)  loss: 0.6019 -> 0.6616   acc: 83.45% -> 84.14%             
client [20] (test)  loss: 0.1895 -> 0.1963   acc: 93.14% -> 92.16%             
client [39] (test)  loss: 0.4138 -> 0.4364   acc: 87.79% -> 88.08%             
-------------------------- TRAINING EPOCH: 90 --------------------------       
client [52] (test)  loss: 0.4345 -> 0.3073   acc: 85.62% -> 91.05%             
client [62] (test)  loss: 0.3061 -> 0.2666   acc: 90.00% -> 90.86%             
client [71] (test)  loss: 0.3935 -> 0.4114   acc: 87.20% -> 85.60%             
client [97] (test)  loss: 0.1951 -> 0.2226   acc: 93.53% -> 93.53%             
client [30] (test)  loss: 0.1538 -> 0.1266   acc: 94.62% -> 95.57%             
client [88] (test)  loss: 0.2168 -> 0.2177   acc: 91.99% -> 93.27%             
client [60] (test)  loss: 0.3451 -> 0.3539   acc: 91.05% -> 91.05%             
client [82] (test)  loss: 0.6113 -> 0.5233   acc: 83.17% -> 84.79%             
client [91] (test)  loss: 0.6044 -> 0.6398   acc: 83.42% -> 82.89%             
client [57] (test)  loss: 0.5324 -> 0.5521   acc: 85.20% -> 85.71%             
-------------------------- TRAINING EPOCH: 100 --------------------------      
client [31] (test)  loss: 1.0825 -> 1.1073   acc: 78.41% -> 78.41%             
client [15] (test)  loss: 0.2252 -> 0.2376   acc: 94.38% -> 93.44%             
client [71] (test)  loss: 0.4114 -> 0.4259   acc: 85.60% -> 85.60%             
client [97] (test)  loss: 0.2485 -> 0.2566   acc: 93.80% -> 93.80%             
client [53] (test)  loss: 0.8127 -> 0.5740   acc: 73.33% -> 77.65%             
client [77] (test)  loss: 0.6558 -> 0.6169   acc: 80.42% -> 82.25%             
client [76] (test)  loss: 0.5821 -> 0.5336   acc: 83.65% -> 80.11%             
client [79] (test)  loss: 1.3252 -> 0.5633   acc: 66.36% -> 81.82%             
client [28] (test)  loss: 1.0778 -> 0.8710   acc: 72.22% -> 71.03%             
client [99] (test)  loss: 0.7207 -> 0.7572   acc: 85.52% -> 84.83%             
-------------------------- TRAINING EPOCH: 110 --------------------------      
client [97] (test)  loss: 0.2637 -> 0.2695   acc: 93.80% -> 93.80%             
client [86] (test)  loss: 0.3453 -> 0.3358   acc: 90.26% -> 90.26%             
client [34] (test)  loss: 0.2998 -> 0.3109   acc: 92.74% -> 92.74%             
client [73] (test)  loss: 0.6177 -> 0.6362   acc: 82.19% -> 82.59%             
client [5] (test)  loss: 0.2486 -> 0.2529   acc: 90.11% -> 89.84%              
client [96] (test)  loss: 0.7493 -> 0.8264   acc: 84.04% -> 84.40%             
client [22] (test)  loss: 0.5645 -> 0.3922   acc: 84.44% -> 88.89%             
client [60] (test)  loss: 0.2365 -> 0.1588   acc: 94.14% -> 95.68%             
client [66] (test)  loss: 0.5183 -> 0.5361   acc: 84.42% -> 84.78%             
client [83] (test)  loss: 0.5580 -> 0.5941   acc: 83.99% -> 83.74%             
-------------------------- TRAINING EPOCH: 120 --------------------------      
client [76] (test)  loss: 0.6000 -> 0.5755   acc: 83.38% -> 84.47%             
client [65] (test)  loss: 0.8563 -> 0.4190   acc: 74.68% -> 87.50%             
client [95] (test)  loss: 0.7224 -> 0.7359   acc: 79.12% -> 78.31%             
client [17] (test)  loss: 0.9863 -> 0.8743   acc: 78.08% -> 74.66%             
client [8] (test)  loss: 0.5464 -> 0.5535   acc: 88.20% -> 88.52%              
client [35] (test)  loss: 0.5088 -> 0.3676   acc: 86.11% -> 88.43%             
client [98] (test)  loss: 0.5926 -> 0.6054   acc: 85.34% -> 84.29%             
client [53] (test)  loss: 0.5991 -> 0.6912   acc: 79.22% -> 78.82%             
client [43] (test)  loss: 0.3979 -> 0.4305   acc: 87.71% -> 88.45%             
client [64] (test)  loss: 0.5506 -> 0.4598   acc: 82.91% -> 87.34%             
-------------------------- TRAINING EPOCH: 130 --------------------------      
client [21] (test)  loss: 0.4365 -> 0.4705   acc: 89.72% -> 90.03%             
client [88] (test)  loss: 0.2116 -> 0.2049   acc: 92.31% -> 92.95%             
client [38] (test)  loss: 0.3481 -> 0.3881   acc: 89.32% -> 89.02%             
client [3] (test)  loss: 0.5836 -> 0.5995   acc: 90.52% -> 90.20%              
client [5] (test)  loss: 0.2604 -> 0.2693   acc: 90.11% -> 90.66%              
client [41] (test)  loss: 0.7826 -> 0.8100   acc: 84.80% -> 84.80%             
client [7] (test)  loss: 0.5152 -> 0.5339   acc: 88.18% -> 88.47%              
client [37] (test)  loss: 0.4627 -> 0.3928   acc: 85.33% -> 88.33%             
client [45] (test)  loss: 0.5807 -> 0.5968   acc: 82.97% -> 84.23%             
client [47] (test)  loss: 0.5667 -> 0.5537   acc: 78.61% -> 78.92%             
-------------------------- TRAINING EPOCH: 140 --------------------------      
client [16] (test)  loss: 0.8262 -> 0.8225   acc: 85.50% -> 72.86%             
client [11] (test)  loss: 0.7572 -> 0.7059   acc: 78.57% -> 81.09%             
client [37] (test)  loss: 0.5441 -> 0.3399   acc: 85.67% -> 89.67%             
client [41] (test)  loss: 0.6456 -> 0.5239   acc: 77.20% -> 83.20%             
client [95] (test)  loss: 0.6151 -> 0.5107   acc: 78.31% -> 82.73%             
client [53] (test)  loss: 0.6912 -> 0.5533   acc: 78.82% -> 80.39%             
client [22] (test)  loss: 0.5467 -> 0.3558   acc: 85.56% -> 90.00%             
client [25] (test)  loss: 0.4017 -> 0.3671   acc: 89.14% -> 89.14%             
client [69] (test)  loss: 0.3382 -> 0.3846   acc: 88.29% -> 85.28%             
client [46] (test)  loss: 0.3825 -> 0.4048   acc: 88.46% -> 88.03%             
-------------------------- TRAINING EPOCH: 150 --------------------------      
client [47] (test)  loss: 0.3027 -> 0.3102   acc: 92.47% -> 92.47%             
client [69] (test)  loss: 0.3640 -> 0.3797   acc: 87.63% -> 88.29%             
client [82] (test)  loss: 0.5309 -> 0.5694   acc: 88.35% -> 88.35%             
client [45] (test)  loss: 0.6996 -> 0.7476   acc: 84.54% -> 84.54%             
client [7] (test)  loss: 0.5339 -> 0.5644   acc: 88.47% -> 87.90%              
client [50] (test)  loss: 0.2746 -> 0.2824   acc: 91.97% -> 92.70%             
client [35] (test)  loss: 0.3977 -> 0.4310   acc: 89.58% -> 89.81%             
client [24] (test)  loss: 0.6338 -> 0.6190   acc: 84.01% -> 84.52%             
client [15] (test)  loss: 0.3198 -> 0.3315   acc: 93.75% -> 93.44%             
client [58] (test)  loss: 0.8382 -> 0.8568   acc: 87.15% -> 86.90%             
-------------------------- TRAINING EPOCH: 160 --------------------------      
client [48] (test)  loss: 0.4846 -> 0.3940   acc: 83.11% -> 87.50%             
client [76] (test)  loss: 0.5705 -> 0.5920   acc: 83.92% -> 83.65%             
client [67] (test)  loss: 0.7239 -> 0.7438   acc: 82.63% -> 82.63%             
client [37] (test)  loss: 0.6716 -> 0.3520   acc: 83.00% -> 90.67%             
client [58] (test)  loss: 0.3696 -> 0.2275   acc: 87.15% -> 91.69%             
client [64] (test)  loss: 0.3520 -> 0.4322   acc: 90.51% -> 89.24%             
client [77] (test)  loss: 0.7264 -> 0.7516   acc: 85.64% -> 85.12%             
client [55] (test)  loss: 0.4323 -> 0.4493   acc: 90.96% -> 92.17%             
client [12] (test)  loss: 0.6176 -> 0.6380   acc: 82.68% -> 83.07%             
client [89] (test)  loss: 0.4012 -> 0.3919   acc: 89.34% -> 89.34%             
-------------------------- TRAINING EPOCH: 170 --------------------------      
client [84] (test)  loss: 0.6828 -> 0.6954   acc: 82.92% -> 82.56%             
client [51] (test)  loss: 0.8115 -> 0.8318   acc: 83.76% -> 83.76%             
client [8] (test)  loss: 0.2713 -> 0.2800   acc: 93.11% -> 93.11%              
client [18] (test)  loss: 0.1798 -> 0.0898   acc: 95.05% -> 96.70%             
client [94] (test)  loss: 0.4291 -> 0.3577   acc: 89.45% -> 87.50%             
client [81] (test)  loss: 0.7223 -> 0.7863   acc: 82.74% -> 82.74%             
client [3] (test)  loss: 0.3097 -> 0.3136   acc: 91.18% -> 90.52%              
client [11] (test)  loss: 0.8084 -> 0.8824   acc: 80.67% -> 80.67%             
client [95] (test)  loss: 0.4738 -> 0.4818   acc: 83.53% -> 83.53%             
client [67] (test)  loss: 0.7438 -> 0.7610   acc: 82.63% -> 82.63%             
-------------------------- TRAINING EPOCH: 180 --------------------------      
client [21] (test)  loss: 0.3494 -> 0.3848   acc: 90.34% -> 90.34%             
client [79] (test)  loss: 0.5633 -> 0.5890   acc: 81.36% -> 82.27%             
client [58] (test)  loss: 0.1971 -> 0.2013   acc: 93.45% -> 93.70%             
client [88] (test)  loss: 0.4922 -> 0.9719   acc: 88.14% -> 65.38%             
client [46] (test)  loss: 0.4949 -> 0.5144   acc: 88.03% -> 88.89%             
client [11] (test)  loss: 0.8824 -> 0.9380   acc: 80.67% -> 79.83%             
client [55] (test)  loss: 0.4815 -> 0.4964   acc: 90.36% -> 90.96%             
client [13] (test)  loss: 0.3539 -> 0.3576   acc: 93.54% -> 93.54%             
client [31] (test)  loss: 0.4693 -> 0.4955   acc: 86.78% -> 85.90%             
client [75] (test)  loss: 0.7381 -> 2.4459   acc: 71.96% -> 40.74%             
-------------------------- TRAINING EPOCH: 190 --------------------------      
client [19] (test)  loss: 0.3983 -> 0.4041   acc: 94.48% -> 94.17%             
client [7] (test)  loss: 0.3138 -> 0.3296   acc: 92.51% -> 92.51%              
client [57] (test)  loss: 0.3665 -> 0.3817   acc: 91.33% -> 91.33%             
client [13] (test)  loss: 0.3611 -> 0.3642   acc: 93.54% -> 93.54%             
client [43] (test)  loss: 0.2657 -> 0.2840   acc: 91.40% -> 91.89%             
client [91] (test)  loss: 0.4348 -> 0.4009   acc: 85.56% -> 88.77%             
client [10] (test)  loss: 0.7644 -> 0.7723   acc: 83.98% -> 83.98%             
client [64] (test)  loss: 0.4796 -> 0.4938   acc: 91.14% -> 91.14%             
client [82] (test)  loss: 0.4375 -> 0.3693   acc: 88.67% -> 91.26%             
client [22] (test)  loss: 0.3872 -> 0.2781   acc: 87.22% -> 91.67%             
-------------------------- TRAINING EPOCH: 200 --------------------------      
client [20] (test)  loss: 0.1378 -> 0.1498   acc: 95.42% -> 95.42%             
client [23] (test)  loss: 0.2714 -> 0.2857   acc: 91.94% -> 92.22%             
client [88] (test)  loss: 0.9719 -> 0.4507   acc: 65.38% -> 89.42%             
client [98] (test)  loss: 0.4462 -> 0.4565   acc: 90.05% -> 90.05%             
client [79] (test)  loss: 0.3755 -> 0.4089   acc: 88.18% -> 88.18%             
client [21] (test)  loss: 0.5182 -> 0.2625   acc: 88.16% -> 92.83%             
client [92] (test)  loss: 0.5484 -> 0.5256   acc: 79.17% -> 83.71%             
client [56] (test)  loss: 0.1891 -> 0.1859   acc: 94.17% -> 94.17%             
client [5] (test)  loss: 0.1914 -> 0.1995   acc: 91.76% -> 92.31%              
client [52] (test)  loss: 0.3591 -> 0.3714   acc: 92.97% -> 92.97%             
==================== FedFomo TEST RESULTS: ====================                
{                                                                              
    100: {'loss': '0.5529 -> 0.0000', 'accuracy': '84.68% -> 0.00%'},          
    200: {'loss': '0.4144 -> 0.0000', 'accuracy': '89.42% -> 0.00%'}           
}                                                                              
Convergence (test_before):                                                     
FedFomo achieved 10.0%(10.49%) at epoch: 0                                     
FedFomo achieved 20.0%(26.72%) at epoch: 1                                     
FedFomo achieved 30.0%(36.25%) at epoch: 7                                     
FedFomo achieved 40.0%(40.29%) at epoch: 9                                     
FedFomo achieved 50.0%(52.23%) at epoch: 20                                    
FedFomo achieved 60.0%(63.80%) at epoch: 27                                    
FedFomo achieved 70.0%(72.54%) at epoch: 28                                    
FedFomo achieved 80.0%(82.27%) at epoch: 39                                    
FedFomo achieved 90.0%(90.46%) at epoch: 168                                   
Convergence (test_after):                                                      
FedFomo achieved 30.0%(31.18%) at epoch: 0                                     
FedFomo achieved 40.0%(45.74%) at epoch: 5                                     
FedFomo achieved 50.0%(51.66%) at epoch: 8                                     
FedFomo achieved 60.0%(65.03%) at epoch: 20                                    
FedFomo achieved 70.0%(71.20%) at epoch: 28                                    
FedFomo achieved 80.0%(80.19%) at epoch: 31                                    
FedFomo achieved 90.0%(90.26%) at epoch: 89                                    
