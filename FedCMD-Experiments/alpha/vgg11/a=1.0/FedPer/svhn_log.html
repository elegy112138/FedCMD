==================== ALGORITHM: FedPer ====================                    
Experiment Arguments:                                                          
{                                                                              
    'model': 'ModifiedVGG11',                                                  
    'dataset': 'svhn',                                                         
    'seed': 42,                                                                
    'join_ratio': 0.1,                                                         
    'global_epoch': 200,                                                       
    'local_epoch': 5,                                                          
    'finetune_epoch': 0,                                                       
    'test_gap': 100,                                                           
    'eval_test': 1,                                                            
    'eval_train': 0,                                                           
    'local_lr': 0.0001,                                                        
    'momentum': 0.0,                                                           
    'weight_decay': 0.0,                                                       
    'verbose_gap': 10,                                                         
    'batch_size': 32,                                                          
    'visible': 1,                                                              
    'global_testset': 0,                                                       
    'straggler_ratio': 0,                                                      
    'straggler_min_local_epoch': 1,                                            
    'external_model_params_file': '',                                          
    'use_cuda': 1,                                                             
    'save_log': 1,                                                             
    'save_model': 0,                                                           
    'save_fig': 1,                                                             
    'save_metrics': 1,                                                         
    'viz_win_name': None,                                                      
    'dataset_args': {                                                          
        'dataset': 'svhn',                                                     
        'client_num': 100,                                                     
        'fraction': 0.5,                                                       
        'seed': 42,                                                            
        'split': 'sample',                                                     
        'alpha': 1.0,                                                          
        'least_samples': 40                                                    
    }                                                                          
}                                                                              
-------------------------- TRAINING EPOCH: 10 --------------------------       
client [77] (test)  loss: 1.0732 -> 1.2018   acc: 66.00% -> 63.62%             
client [81] (test)  loss: 1.9633 -> 1.7057   acc: 40.53% -> 42.59%             
client [21] (test)  loss: 1.3254 -> 1.0768   acc: 59.32% -> 60.39%             
client [68] (test)  loss: 1.5417 -> 1.3829   acc: 47.72% -> 52.28%             
client [93] (test)  loss: 0.9408 -> 0.7520   acc: 71.18% -> 72.55%             
client [31] (test)  loss: 2.6198 -> 1.1962   acc: 27.49% -> 63.98%             
client [20] (test)  loss: 1.9057 -> 1.7704   acc: 38.74% -> 40.09%             
client [59] (test)  loss: 2.1048 -> 1.6534   acc: 34.79% -> 43.04%             
client [48] (test)  loss: 1.4788 -> 1.2076   acc: 43.73% -> 56.08%             
client [34] (test)  loss: 2.1614 -> 1.6667   acc: 33.46% -> 45.07%             
-------------------------- TRAINING EPOCH: 20 --------------------------       
client [69] (test)  loss: 1.3147 -> 1.1420   acc: 50.74% -> 54.63%             
client [99] (test)  loss: 0.6815 -> 0.5340   acc: 81.24% -> 81.82%             
client [67] (test)  loss: 1.2190 -> 1.1151   acc: 60.00% -> 60.31%             
client [0] (test)  loss: 1.0615 -> 1.0003   acc: 71.26% -> 72.43%              
client [76] (test)  loss: 1.4445 -> 1.3095   acc: 54.13% -> 57.10%             
client [41] (test)  loss: 1.2107 -> 1.1226   acc: 59.41% -> 65.29%             
client [62] (test)  loss: 1.4361 -> 1.1306   acc: 52.07% -> 62.97%             
client [2] (test)  loss: 1.1816 -> 1.0439   acc: 61.10% -> 70.53%              
client [14] (test)  loss: 1.4059 -> 1.4830   acc: 53.13% -> 54.14%             
client [46] (test)  loss: 1.0806 -> 0.9344   acc: 67.10% -> 71.93%             
-------------------------- TRAINING EPOCH: 30 --------------------------       
client [24] (test)  loss: 1.4197 -> 1.1973   acc: 55.94% -> 60.84%             
client [68] (test)  loss: 1.0210 -> 0.9652   acc: 68.32% -> 68.71%             
client [57] (test)  loss: 1.2039 -> 1.1839   acc: 64.56% -> 65.17%             
client [17] (test)  loss: 1.3443 -> 1.2703   acc: 57.04% -> 61.73%             
client [54] (test)  loss: 0.9065 -> 0.9539   acc: 70.55% -> 71.13%             
client [23] (test)  loss: 1.5271 -> 1.0077   acc: 53.34% -> 70.64%             
client [35] (test)  loss: 0.7828 -> 0.8615   acc: 74.90% -> 73.90%             
client [59] (test)  loss: 1.2289 -> 1.0743   acc: 60.31% -> 63.40%             
client [31] (test)  loss: 0.9345 -> 0.8455   acc: 70.38% -> 77.49%             
client [9] (test)  loss: 0.6792 -> 0.5257   acc: 81.50% -> 82.68%              
-------------------------- TRAINING EPOCH: 40 --------------------------       
client [64] (test)  loss: 1.1907 -> 0.9898   acc: 62.47% -> 69.52%             
client [33] (test)  loss: 0.4230 -> 0.4423   acc: 88.79% -> 87.10%             
client [16] (test)  loss: 0.5268 -> 0.4776   acc: 85.71% -> 85.71%             
client [44] (test)  loss: 0.7257 -> 0.5359   acc: 77.67% -> 82.00%             
client [8] (test)  loss: 0.8889 -> 0.8945   acc: 72.75% -> 73.22%              
client [31] (test)  loss: 0.8167 -> 0.7415   acc: 75.83% -> 79.86%             
client [47] (test)  loss: 0.6258 -> 0.6006   acc: 81.57% -> 82.73%             
client [36] (test)  loss: 1.0175 -> 0.7738   acc: 66.02% -> 73.98%             
client [20] (test)  loss: 1.0606 -> 1.0915   acc: 63.06% -> 65.77%             
client [56] (test)  loss: 0.6242 -> 0.5035   acc: 82.69% -> 84.42%             
-------------------------- TRAINING EPOCH: 50 --------------------------       
client [4] (test)  loss: 1.0032 -> 1.0548   acc: 69.14% -> 67.95%              
client [60] (test)  loss: 1.2427 -> 0.9218   acc: 60.92% -> 68.14%             
client [28] (test)  loss: 0.8197 -> 0.7514   acc: 74.92% -> 78.78%             
client [25] (test)  loss: 0.9902 -> 0.9612   acc: 70.55% -> 72.36%             
client [58] (test)  loss: 1.2285 -> 1.2270   acc: 62.88% -> 65.05%             
client [44] (test)  loss: 0.5549 -> 0.5208   acc: 82.50% -> 84.00%             
client [39] (test)  loss: 1.0053 -> 0.9207   acc: 70.96% -> 71.35%             
client [29] (test)  loss: 0.7319 -> 0.7700   acc: 76.30% -> 74.96%             
client [3] (test)  loss: 0.9412 -> 0.7546   acc: 70.83% -> 76.99%              
client [84] (test)  loss: 0.9877 -> 0.8674   acc: 67.65% -> 69.91%             
-------------------------- TRAINING EPOCH: 60 --------------------------       
client [21] (test)  loss: 0.5840 -> 0.5461   acc: 83.33% -> 83.87%             
client [84] (test)  loss: 0.8521 -> 0.7938   acc: 72.62% -> 73.08%             
client [10] (test)  loss: 0.9011 -> 0.9848   acc: 71.59% -> 70.68%             
client [36] (test)  loss: 0.6254 -> 0.6288   acc: 80.30% -> 79.10%             
client [65] (test)  loss: 0.4198 -> 0.4174   acc: 87.74% -> 86.78%             
client [81] (test)  loss: 0.8786 -> 0.8475   acc: 71.67% -> 75.80%             
client [79] (test)  loss: 0.2005 -> 0.2274   acc: 94.67% -> 94.12%             
client [42] (test)  loss: 0.6080 -> 0.5868   acc: 79.85% -> 81.05%             
client [11] (test)  loss: 0.2236 -> 0.1642   acc: 93.98% -> 94.95%             
client [96] (test)  loss: 0.5854 -> 0.5664   acc: 85.32% -> 84.76%             
-------------------------- TRAINING EPOCH: 70 --------------------------       
client [8] (test)  loss: 0.7044 -> 0.7605   acc: 78.91% -> 78.44%              
client [53] (test)  loss: 0.6083 -> 0.6291   acc: 82.46% -> 80.99%             
client [52] (test)  loss: 0.7322 -> 0.7304   acc: 75.28% -> 76.22%             
client [42] (test)  loss: 0.4953 -> 0.5396   acc: 83.91% -> 83.31%             
client [69] (test)  loss: 0.9090 -> 1.0111   acc: 71.30% -> 66.11%             
client [59] (test)  loss: 0.9724 -> 0.7882   acc: 71.13% -> 75.00%             
client [7] (test)  loss: 1.0480 -> 0.9903   acc: 66.73% -> 67.26%              
client [26] (test)  loss: 0.4760 -> 0.4637   acc: 87.22% -> 87.97%             
client [49] (test)  loss: 0.9766 -> 0.8366   acc: 72.28% -> 73.51%             
client [98] (test)  loss: 0.5987 -> 0.6510   acc: 81.89% -> 80.89%             
-------------------------- TRAINING EPOCH: 80 --------------------------       
client [98] (test)  loss: 0.5881 -> 0.6189   acc: 81.89% -> 81.09%             
client [47] (test)  loss: 0.4985 -> 0.5151   acc: 85.22% -> 82.34%             
client [21] (test)  loss: 0.5394 -> 0.5143   acc: 84.95% -> 85.66%             
client [77] (test)  loss: 0.4421 -> 0.4550   acc: 88.07% -> 89.46%             
client [95] (test)  loss: 0.4431 -> 0.5017   acc: 87.03% -> 86.05%             
client [91] (test)  loss: 0.8435 -> 0.9065   acc: 79.63% -> 77.28%             
client [14] (test)  loss: 0.7899 -> 0.8822   acc: 76.44% -> 74.19%             
client [99] (test)  loss: 0.3096 -> 0.3223   acc: 91.10% -> 91.49%             
client [20] (test)  loss: 0.8477 -> 0.9086   acc: 74.32% -> 72.52%             
client [39] (test)  loss: 0.6548 -> 0.7291   acc: 81.29% -> 79.73%             
-------------------------- TRAINING EPOCH: 90 --------------------------       
client [52] (test)  loss: 0.6848 -> 0.7069   acc: 77.72% -> 77.15%             
client [62] (test)  loss: 0.6683 -> 0.6843   acc: 80.45% -> 82.71%             
client [71] (test)  loss: 0.8003 -> 0.9007   acc: 76.79% -> 72.53%             
client [97] (test)  loss: 0.8418 -> 0.9073   acc: 76.75% -> 72.46%             
client [30] (test)  loss: 0.6146 -> 0.6301   acc: 84.38% -> 83.24%             
client [88] (test)  loss: 0.6860 -> 0.6716   acc: 80.84% -> 78.95%             
client [60] (test)  loss: 0.8479 -> 0.8311   acc: 75.55% -> 75.55%             
client [82] (test)  loss: 0.7839 -> 0.7565   acc: 76.30% -> 77.08%             
client [91] (test)  loss: 0.8710 -> 0.8776   acc: 79.37% -> 77.81%             
client [57] (test)  loss: 0.8388 -> 0.9183   acc: 77.18% -> 77.48%             
-------------------------- TRAINING EPOCH: 100 --------------------------      
client [31] (test)  loss: 0.6332 -> 0.6056   acc: 83.18% -> 85.55%             
client [15] (test)  loss: 0.7013 -> 0.8927   acc: 80.65% -> 76.99%             
client [71] (test)  loss: 0.8036 -> 0.8746   acc: 76.11% -> 74.40%             
client [97] (test)  loss: 0.8846 -> 0.8850   acc: 75.85% -> 73.36%             
client [53] (test)  loss: 0.5380 -> 0.5876   acc: 85.67% -> 83.04%             
client [77] (test)  loss: 0.4140 -> 0.4193   acc: 90.46% -> 90.06%             
client [76] (test)  loss: 0.7681 -> 0.8091   acc: 77.56% -> 75.91%             
client [79] (test)  loss: 0.1374 -> 0.1823   acc: 95.59% -> 94.67%             
client [28] (test)  loss: 0.6414 -> 0.6606   acc: 82.96% -> 82.80%             
client [99] (test)  loss: 0.2971 -> 0.3089   acc: 91.30% -> 91.10%             
-------------------------- TRAINING EPOCH: 110 --------------------------      
client [97] (test)  loss: 0.8824 -> 0.8926   acc: 76.30% -> 74.94%             
client [86] (test)  loss: 0.7599 -> 0.8523   acc: 80.43% -> 77.71%             
client [34] (test)  loss: 0.7294 -> 0.7774   acc: 76.21% -> 76.02%             
client [73] (test)  loss: 0.3804 -> 0.4172   acc: 86.83% -> 86.52%             
client [5] (test)  loss: 0.7180 -> 0.7663   acc: 80.19% -> 82.52%              
client [96] (test)  loss: 0.5254 -> 0.5322   acc: 87.26% -> 87.53%             
client [22] (test)  loss: 0.6128 -> 0.6762   acc: 83.60% -> 83.24%             
client [60] (test)  loss: 0.8165 -> 0.8437   acc: 76.15% -> 74.15%             
client [66] (test)  loss: 0.0847 -> 0.0273   acc: 97.49% -> 99.23%             
client [83] (test)  loss: 0.6348 -> 0.6375   acc: 81.52% -> 82.17%             
-------------------------- TRAINING EPOCH: 120 --------------------------      
client [76] (test)  loss: 0.7068 -> 0.7933   acc: 79.21% -> 75.58%             
client [65] (test)  loss: 0.3519 -> 0.3850   acc: 90.45% -> 88.69%             
client [95] (test)  loss: 0.4231 -> 0.4841   acc: 88.61% -> 88.21%             
client [17] (test)  loss: 0.7850 -> 0.8249   acc: 77.26% -> 75.81%             
client [8] (test)  loss: 0.6310 -> 0.6674   acc: 82.46% -> 80.57%              
client [35] (test)  loss: 0.5387 -> 0.6227   acc: 84.46% -> 82.67%             
client [98] (test)  loss: 0.5676 -> 0.5723   acc: 83.50% -> 84.10%             
client [53] (test)  loss: 0.5900 -> 0.5739   acc: 82.46% -> 84.80%             
client [43] (test)  loss: 0.5767 -> 0.6861   acc: 84.69% -> 81.29%             
client [64] (test)  loss: 0.7680 -> 0.7202   acc: 79.85% -> 81.36%             
-------------------------- TRAINING EPOCH: 130 --------------------------      
client [21] (test)  loss: 0.4743 -> 0.4929   acc: 87.63% -> 87.99%             
client [88] (test)  loss: 0.6536 -> 0.6606   acc: 82.53% -> 81.47%             
client [38] (test)  loss: 0.6782 -> 0.7008   acc: 82.52% -> 79.64%             
client [3] (test)  loss: 0.6339 -> 0.5859   acc: 84.28% -> 84.28%              
client [5] (test)  loss: 0.6733 -> 0.7530   acc: 82.52% -> 81.94%              
client [41] (test)  loss: 0.6797 -> 0.7469   acc: 79.61% -> 78.04%             
client [7] (test)  loss: 0.8539 -> 0.9141   acc: 74.02% -> 73.49%              
client [37] (test)  loss: 0.8071 -> 0.8048   acc: 81.39% -> 82.97%             
client [45] (test)  loss: 0.6296 -> 0.6421   acc: 82.88% -> 80.99%             
client [47] (test)  loss: 0.4627 -> 0.4944   acc: 85.41% -> 85.60%             
-------------------------- TRAINING EPOCH: 140 --------------------------      
client [16] (test)  loss: 0.4239 -> 0.3971   acc: 89.05% -> 89.61%             
client [11] (test)  loss: 0.1738 -> 0.1731   acc: 95.15% -> 95.15%             
client [37] (test)  loss: 0.8098 -> 0.8057   acc: 80.79% -> 83.76%             
client [41] (test)  loss: 0.7205 -> 0.7653   acc: 80.00% -> 79.02%             
client [95] (test)  loss: 0.4406 -> 0.4510   acc: 88.41% -> 88.41%             
client [53] (test)  loss: 0.6027 -> 0.5826   acc: 83.63% -> 82.46%             
client [22] (test)  loss: 0.5809 -> 0.6530   acc: 85.41% -> 84.68%             
client [25] (test)  loss: 0.7187 -> 0.7632   acc: 79.82% -> 79.64%             
client [69] (test)  loss: 0.8320 -> 0.9430   acc: 73.89% -> 71.11%             
client [46] (test)  loss: 0.6352 -> 0.5493   acc: 83.83% -> 83.83%             
-------------------------- TRAINING EPOCH: 150 --------------------------      
client [47] (test)  loss: 0.4594 -> 0.4946   acc: 86.18% -> 86.37%             
client [69] (test)  loss: 0.8350 -> 0.9422   acc: 75.37% -> 71.67%             
client [82] (test)  loss: 0.7704 -> 0.7192   acc: 80.73% -> 79.95%             
client [45] (test)  loss: 0.5763 -> 0.6290   acc: 85.10% -> 82.53%             
client [7] (test)  loss: 0.8295 -> 0.9506   acc: 75.44% -> 73.49%              
client [50] (test)  loss: 0.6133 -> 0.7238   acc: 83.67% -> 80.28%             
client [35] (test)  loss: 0.5129 -> 0.6080   acc: 84.46% -> 83.07%             
client [24] (test)  loss: 0.6028 -> 0.6521   acc: 81.82% -> 81.12%             
client [15] (test)  loss: 0.6368 -> 0.8044   acc: 82.15% -> 78.49%             
client [58] (test)  loss: 1.0578 -> 1.0604   acc: 74.05% -> 72.79%             
-------------------------- TRAINING EPOCH: 160 --------------------------      
client [48] (test)  loss: 0.5041 -> 0.5305   acc: 85.49% -> 83.92%             
client [76] (test)  loss: 0.6837 -> 0.7578   acc: 79.87% -> 77.56%             
client [67] (test)  loss: 0.5415 -> 0.5530   acc: 87.50% -> 85.31%             
client [37] (test)  loss: 0.8379 -> 0.8409   acc: 82.38% -> 83.37%             
client [58] (test)  loss: 1.0813 -> 1.0439   acc: 74.59% -> 72.97%             
client [64] (test)  loss: 0.7586 -> 0.7190   acc: 81.61% -> 81.86%             
client [77] (test)  loss: 0.4431 -> 0.4098   acc: 90.46% -> 91.05%             
client [55] (test)  loss: 0.5314 -> 0.5798   acc: 85.12% -> 84.96%             
client [12] (test)  loss: 0.5847 -> 0.6515   acc: 84.27% -> 83.99%             
client [89] (test)  loss: 0.5347 -> 0.5508   acc: 85.63% -> 84.62%             
-------------------------- TRAINING EPOCH: 170 --------------------------      
client [84] (test)  loss: 0.6125 -> 0.5749   acc: 81.00% -> 84.16%             
client [51] (test)  loss: 0.8721 -> 0.8910   acc: 78.16% -> 80.41%             
client [8] (test)  loss: 0.6532 -> 0.6792   acc: 83.89% -> 81.75%              
client [18] (test)  loss: 0.6824 -> 0.7589   acc: 83.15% -> 80.66%             
client [94] (test)  loss: 0.5701 -> 0.5525   acc: 85.71% -> 85.91%             
client [81] (test)  loss: 0.6956 -> 0.7178   acc: 81.43% -> 81.43%             
client [3] (test)  loss: 0.6166 -> 0.5976   acc: 85.09% -> 84.76%              
client [11] (test)  loss: 0.1766 -> 0.1754   acc: 95.15% -> 95.73%             
client [95] (test)  loss: 0.4224 -> 0.4374   acc: 89.39% -> 88.61%             
client [67] (test)  loss: 0.5343 -> 0.5605   acc: 87.50% -> 85.31%             
-------------------------- TRAINING EPOCH: 180 --------------------------      
client [21] (test)  loss: 0.4648 -> 0.4967   acc: 88.35% -> 88.71%             
client [79] (test)  loss: 0.1238 -> 0.1350   acc: 96.88% -> 96.51%             
client [58] (test)  loss: 1.0876 -> 1.0613   acc: 74.41% -> 74.23%             
client [88] (test)  loss: 0.6471 -> 0.6592   acc: 84.21% -> 83.16%             
client [46] (test)  loss: 0.6472 -> 0.5598   acc: 84.76% -> 85.69%             
client [11] (test)  loss: 0.1781 -> 0.1835   acc: 95.34% -> 95.34%             
client [55] (test)  loss: 0.5328 -> 0.5809   acc: 85.60% -> 85.44%             
client [13] (test)  loss: 0.0846 -> 0.0902   acc: 98.43% -> 97.80%             
client [31] (test)  loss: 0.6358 -> 0.6229   acc: 85.78% -> 86.26%             
client [75] (test)  loss: 0.4929 -> 0.5261   acc: 85.66% -> 84.34%             
-------------------------- TRAINING EPOCH: 190 --------------------------      
client [19] (test)  loss: 0.3088 -> 0.3455   acc: 91.43% -> 91.81%             
client [7] (test)  loss: 0.8425 -> 0.9184   acc: 74.73% -> 75.44%              
client [57] (test)  loss: 0.7912 -> 0.8643   acc: 81.68% -> 80.78%             
client [13] (test)  loss: 0.0852 -> 0.0920   acc: 97.48% -> 97.95%             
client [43] (test)  loss: 0.6284 -> 0.6268   acc: 83.33% -> 84.01%             
client [91] (test)  loss: 0.7888 -> 0.8321   acc: 83.29% -> 79.63%             
client [10] (test)  loss: 0.7950 -> 0.8724   acc: 79.32% -> 79.55%             
client [64] (test)  loss: 0.7455 -> 0.7034   acc: 83.12% -> 83.63%             
client [82] (test)  loss: 0.7204 -> 0.7305   acc: 82.55% -> 81.51%             
client [22] (test)  loss: 0.5762 -> 0.6620   acc: 86.85% -> 85.59%             
-------------------------- TRAINING EPOCH: 200 --------------------------      
client [20] (test)  loss: 0.8106 -> 0.8375   acc: 76.58% -> 74.32%             
client [23] (test)  loss: 0.6935 -> 0.6611   acc: 83.36% -> 85.15%             
client [88] (test)  loss: 0.6845 -> 0.6789   acc: 84.21% -> 82.95%             
client [98] (test)  loss: 0.5854 -> 0.6044   acc: 84.91% -> 86.32%             
client [79] (test)  loss: 0.1287 -> 0.1431   acc: 96.88% -> 96.51%             
client [21] (test)  loss: 0.4645 -> 0.5058   acc: 87.81% -> 87.63%             
client [92] (test)  loss: 0.7409 -> 0.6879   acc: 80.39% -> 79.96%             
client [56] (test)  loss: 0.4233 -> 0.3874   acc: 91.15% -> 90.96%             
client [5] (test)  loss: 0.6578 -> 0.7301   acc: 84.66% -> 83.11%              
client [52] (test)  loss: 0.6480 -> 0.6327   acc: 80.34% -> 81.65%             
==================== FedPer TEST RESULTS: ====================                 
{                                                                              
    100: {'loss': '0.6002 -> 0.0000', 'accuracy': '82.69% -> 0.00%'},          
    200: {'loss': '0.5822 -> 0.0000', 'accuracy': '85.49% -> 0.00%'}           
}                                                                              
Convergence (test_before):                                                     
FedPer achieved 10.0%(10.48%) at epoch: 0                                      
FedPer achieved 20.0%(24.62%) at epoch: 2                                      
FedPer achieved 30.0%(31.50%) at epoch: 3                                      
FedPer achieved 40.0%(48.61%) at epoch: 4                                      
FedPer achieved 50.0%(55.98%) at epoch: 13                                     
FedPer achieved 60.0%(61.52%) at epoch: 19                                     
FedPer achieved 70.0%(74.46%) at epoch: 30                                     
FedPer achieved 80.0%(80.20%) at epoch: 58                                     
Convergence (test_after):                                                      
FedPer achieved 40.0%(42.36%) at epoch: 0                                      
FedPer achieved 50.0%(58.84%) at epoch: 4                                      
FedPer achieved 60.0%(62.07%) at epoch: 13                                     
FedPer achieved 70.0%(72.91%) at epoch: 23                                     
FedPer achieved 80.0%(80.13%) at epoch: 43                                     
