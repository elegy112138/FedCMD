==================== ALGORITHM: FedFomo ====================                   
Experiment Arguments:                                                          
{                                                                              
    'model': 'ModifiedVGG11',                                                  
    'dataset': 'medmnistA',                                                    
    'seed': 42,                                                                
    'join_ratio': 0.1,                                                         
    'global_epoch': 200,                                                       
    'local_epoch': 5,                                                          
    'finetune_epoch': 0,                                                       
    'test_gap': 100,                                                           
    'eval_test': 1,                                                            
    'eval_train': 0,                                                           
    'local_lr': 0.01,                                                          
    'momentum': 0.0,                                                           
    'weight_decay': 0.0,                                                       
    'verbose_gap': 10,                                                         
    'batch_size': 32,                                                          
    'visible': 1,                                                              
    'global_testset': 0,                                                       
    'straggler_ratio': 0,                                                      
    'straggler_min_local_epoch': 1,                                            
    'external_model_params_file': '',                                          
    'use_cuda': 1,                                                             
    'save_log': 1,                                                             
    'save_model': 0,                                                           
    'save_fig': 1,                                                             
    'save_metrics': 1,                                                         
    'viz_win_name': None,                                                      
    'M': 5,                                                                    
    'valset_ratio': 0.2,                                                       
    'dataset_args': {                                                          
        'dataset': 'medmnistA',                                                
        'client_num': 100,                                                     
        'fraction': 0.5,                                                       
        'seed': 42,                                                            
        'split': 'sample',                                                     
        'alpha': 0.5,                                                          
        'least_samples': 40                                                    
    }                                                                          
}                                                                              
-------------------------- TRAINING EPOCH: 10 --------------------------       
client [77] (test)  loss: 1.7221 -> 1.2164   acc: 31.88% -> 62.80%             
client [81] (test)  loss: 0.6001 -> 0.3138   acc: 89.43% -> 91.85%             
client [21] (test)  loss: 2.4047 -> 2.2859   acc: 11.86% -> 37.97%             
client [68] (test)  loss: 1.5489 -> 0.7354   acc: 54.37% -> 80.58%             
client [93] (test)  loss: 1.5082 -> 0.9124   acc: 76.49% -> 76.49%             
client [31] (test)  loss: 2.0855 -> 1.6003   acc: 52.20% -> 52.20%             
client [20] (test)  loss: 1.1769 -> 1.0575   acc: 66.94% -> 68.60%             
client [59] (test)  loss: 2.3372 -> 1.1433   acc: 67.66% -> 67.66%             
client [48] (test)  loss: 1.3662 -> 1.1702   acc: 50.80% -> 63.37%             
client [34] (test)  loss: 2.0975 -> 1.5206   acc: 49.84% -> 49.84%             
-------------------------- TRAINING EPOCH: 20 --------------------------       
client [69] (test)  loss: 1.4820 -> 1.4092   acc: 43.30% -> 42.45%             
client [99] (test)  loss: 1.0382 -> 0.8690   acc: 66.13% -> 74.19%             
client [67] (test)  loss: 1.7872 -> 1.2463   acc: 43.99% -> 50.63%             
client [0] (test)  loss: 1.0113 -> 0.6021   acc: 71.77% -> 80.86%              
client [76] (test)  loss: 1.0597 -> 0.9983   acc: 64.14% -> 67.93%             
client [41] (test)  loss: 1.3240 -> 1.2307   acc: 52.83% -> 60.38%             
client [62] (test)  loss: 2.3273 -> 1.0320   acc: 70.88% -> 70.88%             
client [2] (test)  loss: 2.3878 -> 2.3506   acc: 3.57% -> 19.90%               
client [14] (test)  loss: 0.7792 -> 0.6432   acc: 76.74% -> 81.40%             
client [46] (test)  loss: 1.3471 -> 1.3097   acc: 50.30% -> 50.30%             
-------------------------- TRAINING EPOCH: 30 --------------------------       
client [24] (test)  loss: 1.5480 -> 1.4383   acc: 50.45% -> 50.89%             
client [68] (test)  loss: 0.4456 -> 0.3788   acc: 85.44% -> 86.73%             
client [57] (test)  loss: 0.2998 -> 0.2836   acc: 92.20% -> 92.47%             
client [17] (test)  loss: 0.7564 -> 0.7147   acc: 80.30% -> 77.70%             
client [54] (test)  loss: 0.7369 -> 1.5731   acc: 80.63% -> 48.89%             
client [23] (test)  loss: 2.3984 -> 2.1690   acc: 0.00% -> 59.60%              
client [35] (test)  loss: 1.3603 -> 0.9188   acc: 47.48% -> 63.07%             
client [59] (test)  loss: 0.7357 -> 0.5723   acc: 67.66% -> 83.50%             
client [31] (test)  loss: 0.6936 -> 0.4832   acc: 81.02% -> 85.42%             
client [9] (test)  loss: 1.1321 -> 0.8972   acc: 68.06% -> 77.50%              
-------------------------- TRAINING EPOCH: 40 --------------------------       
client [64] (test)  loss: 1.1457 -> 0.7599   acc: 62.40% -> 76.36%             
client [33] (test)  loss: 0.6448 -> 0.6517   acc: 80.95% -> 83.60%             
client [16] (test)  loss: 1.3642 -> 1.1077   acc: 51.17% -> 66.80%             
client [44] (test)  loss: 0.5869 -> 0.4907   acc: 83.02% -> 83.64%             
client [8] (test)  loss: 0.4126 -> 0.4008   acc: 87.50% -> 88.02%              
client [31] (test)  loss: 0.5837 -> 0.4108   acc: 82.37% -> 86.78%             
client [47] (test)  loss: 0.4408 -> 0.4144   acc: 86.75% -> 86.75%             
client [36] (test)  loss: 2.2496 -> 1.7024   acc: 43.61% -> 43.61%             
client [20] (test)  loss: 1.1551 -> 0.8442   acc: 71.07% -> 71.90%             
client [56] (test)  loss: 1.3966 -> 1.0466   acc: 39.52% -> 73.47%             
-------------------------- TRAINING EPOCH: 50 --------------------------       
client [4] (test)  loss: 1.8368 -> 1.6773   acc: 27.46% -> 32.38%              
client [60] (test)  loss: 0.5644 -> 0.4318   acc: 85.00% -> 87.92%             
client [28] (test)  loss: 0.7852 -> 0.7310   acc: 73.86% -> 78.43%             
client [25] (test)  loss: 1.6630 -> 1.6142   acc: 50.93% -> 50.93%             
client [58] (test)  loss: 0.3940 -> 0.4402   acc: 88.27% -> 85.80%             
client [44] (test)  loss: 0.2134 -> 0.1479   acc: 92.90% -> 96.91%             
client [39] (test)  loss: 1.9492 -> 1.8217   acc: 27.12% -> 27.12%             
client [29] (test)  loss: 0.4529 -> 0.4690   acc: 82.51% -> 82.51%             
client [3] (test)  loss: 0.4330 -> 0.5864   acc: 87.06% -> 79.29%              
client [84] (test)  loss: 1.4272 -> 1.3728   acc: 39.41% -> 42.67%             
-------------------------- TRAINING EPOCH: 60 --------------------------       
client [21] (test)  loss: 1.8548 -> 1.7884   acc: 37.97% -> 37.97%             
client [84] (test)  loss: 1.3146 -> 1.2472   acc: 49.19% -> 52.44%             
client [10] (test)  loss: 0.3128 -> 0.2840   acc: 87.86% -> 89.40%             
client [36] (test)  loss: 0.6685 -> 0.6518   acc: 75.39% -> 81.31%             
client [65] (test)  loss: 0.4002 -> 0.4414   acc: 87.40% -> 86.59%             
client [81] (test)  loss: 0.1830 -> 0.1923   acc: 95.81% -> 95.81%             
client [79] (test)  loss: 1.0684 -> 0.2894   acc: 73.85% -> 92.31%             
client [42] (test)  loss: 0.3770 -> 0.3643   acc: 88.99% -> 88.30%             
client [11] (test)  loss: 0.5406 -> 0.3906   acc: 82.03% -> 87.88%             
client [96] (test)  loss: 0.3147 -> 0.9091   acc: 91.30% -> 71.01%             
-------------------------- TRAINING EPOCH: 70 --------------------------       
client [8] (test)  loss: 0.3958 -> 0.4152   acc: 89.84% -> 90.36%              
client [53] (test)  loss: 0.5706 -> 0.5411   acc: 80.23% -> 81.10%             
client [52] (test)  loss: 0.4750 -> 0.4636   acc: 83.93% -> 85.57%             
client [42] (test)  loss: 0.3258 -> 1.2367   acc: 88.99% -> 51.38%             
client [69] (test)  loss: 0.8105 -> 0.6599   acc: 72.08% -> 76.35%             
client [59] (test)  loss: 0.3686 -> 0.3867   acc: 88.78% -> 87.13%             
client [7] (test)  loss: 0.4379 -> 0.4422   acc: 91.15% -> 91.48%              
client [26] (test)  loss: 0.2313 -> 0.2147   acc: 90.94% -> 92.15%             
client [49] (test)  loss: 0.7628 -> 0.7606   acc: 66.81% -> 66.38%             
client [98] (test)  loss: 1.1885 -> 1.7127   acc: 62.57% -> 55.26%             
-------------------------- TRAINING EPOCH: 80 --------------------------       
client [98] (test)  loss: 1.7126 -> 1.0355   acc: 55.26% -> 70.18%             
client [47] (test)  loss: 0.3941 -> 0.4026   acc: 88.08% -> 87.42%             
client [21] (test)  loss: 1.3819 -> 0.9569   acc: 60.00% -> 68.47%             
client [77] (test)  loss: 0.5274 -> 0.5661   acc: 82.61% -> 83.57%             
client [95] (test)  loss: 0.3866 -> 0.4015   acc: 90.81% -> 90.44%             
client [91] (test)  loss: 0.3706 -> 0.3794   acc: 85.90% -> 85.90%             
client [14] (test)  loss: 0.4350 -> 0.4384   acc: 86.05% -> 87.60%             
client [99] (test)  loss: 0.6619 -> 0.6158   acc: 79.84% -> 80.65%             
client [20] (test)  loss: 0.7592 -> 0.9229   acc: 75.21% -> 69.42%             
client [39] (test)  loss: 0.5696 -> 0.8091   acc: 81.36% -> 74.58%             
-------------------------- TRAINING EPOCH: 90 --------------------------       
client [52] (test)  loss: 0.4636 -> 0.4525   acc: 85.57% -> 84.59%             
client [62] (test)  loss: 0.1004 -> 0.1032   acc: 96.70% -> 96.70%             
client [71] (test)  loss: 1.0076 -> 0.8904   acc: 63.40% -> 67.53%             
client [97] (test)  loss: 0.4633 -> 0.7134   acc: 89.15% -> 87.74%             
client [30] (test)  loss: 0.3160 -> 0.3256   acc: 90.88% -> 91.55%             
client [88] (test)  loss: 0.4689 -> 1.6614   acc: 84.33% -> 48.85%             
client [60] (test)  loss: 0.4299 -> 0.4643   acc: 88.33% -> 87.08%             
client [82] (test)  loss: 1.4814 -> 1.5024   acc: 46.69% -> 46.69%             
client [91] (test)  loss: 0.4105 -> 0.4386   acc: 85.90% -> 86.34%             
client [57] (test)  loss: 0.3140 -> 0.4772   acc: 92.47% -> 87.90%             
-------------------------- TRAINING EPOCH: 100 --------------------------      
client [31] (test)  loss: 0.4613 -> 0.4776   acc: 87.80% -> 88.14%             
client [15] (test)  loss: 0.4353 -> 0.4133   acc: 87.39% -> 88.50%             
client [71] (test)  loss: 0.8904 -> 0.7683   acc: 67.53% -> 73.20%             
client [97] (test)  loss: 0.4138 -> 0.4454   acc: 91.04% -> 90.57%             
client [53] (test)  loss: 0.7729 -> 0.6071   acc: 76.74% -> 81.98%             
client [77] (test)  loss: 0.6021 -> 0.7310   acc: 81.64% -> 76.81%             
client [76] (test)  loss: 0.5116 -> 0.5262   acc: 85.86% -> 85.52%             
client [79] (test)  loss: 0.2091 -> 0.2201   acc: 92.31% -> 92.31%             
client [28] (test)  loss: 0.6270 -> 0.5267   acc: 84.31% -> 84.97%             
client [99] (test)  loss: 0.6168 -> 0.6562   acc: 82.26% -> 82.26%             
-------------------------- TRAINING EPOCH: 110 --------------------------      
client [97] (test)  loss: 0.3043 -> 0.2582   acc: 89.86% -> 92.69%             
client [86] (test)  loss: 0.5348 -> 0.6078   acc: 88.14% -> 89.69%             
client [34] (test)  loss: 0.3482 -> 0.3616   acc: 90.82% -> 92.13%             
client [73] (test)  loss: 0.1413 -> 0.1365   acc: 97.12% -> 96.88%             
client [5] (test)  loss: 0.3548 -> 0.3561   acc: 88.85% -> 90.33%              
client [96] (test)  loss: 0.2769 -> 0.2208   acc: 90.82% -> 93.24%             
client [22] (test)  loss: 0.8054 -> 0.8300   acc: 75.73% -> 77.41%             
client [60] (test)  loss: 0.4735 -> 0.4736   acc: 89.17% -> 89.58%             
client [66] (test)  loss: 0.3684 -> 0.3747   acc: 87.63% -> 88.71%             
client [83] (test)  loss: 0.2088 -> 0.2038   acc: 94.09% -> 94.33%             
-------------------------- TRAINING EPOCH: 120 --------------------------      
client [76] (test)  loss: 0.5689 -> 0.5815   acc: 85.86% -> 86.21%             
client [65] (test)  loss: 0.3287 -> 0.3762   acc: 89.43% -> 91.06%             
client [95] (test)  loss: 0.4436 -> 0.4546   acc: 92.28% -> 91.54%             
client [17] (test)  loss: 0.3292 -> 0.5276   acc: 90.71% -> 84.01%             
client [8] (test)  loss: 0.5353 -> 0.2829   acc: 85.94% -> 92.45%              
client [35] (test)  loss: 0.4769 -> 0.5042   acc: 88.99% -> 88.53%             
client [98] (test)  loss: 1.5139 -> 0.5640   acc: 61.11% -> 78.65%             
client [53] (test)  loss: 0.5888 -> 0.5418   acc: 83.43% -> 87.50%             
client [43] (test)  loss: 0.2985 -> 0.3069   acc: 94.70% -> 93.94%             
client [64] (test)  loss: 0.7433 -> 0.8123   acc: 77.52% -> 78.29%             
-------------------------- TRAINING EPOCH: 130 --------------------------      
client [21] (test)  loss: 0.8596 -> 0.8208   acc: 71.19% -> 74.24%             
client [88] (test)  loss: 0.6284 -> 0.3154   acc: 85.25% -> 88.94%             
client [38] (test)  loss: 0.1726 -> 0.1792   acc: 94.62% -> 94.62%             
client [3] (test)  loss: 0.3296 -> 0.3373   acc: 92.23% -> 92.23%              
client [5] (test)  loss: 0.3610 -> 0.3771   acc: 90.33% -> 91.08%              
client [41] (test)  loss: 0.5639 -> 0.6197   acc: 79.48% -> 79.95%             
client [7] (test)  loss: 0.1186 -> 0.1281   acc: 95.41% -> 94.75%              
client [37] (test)  loss: 0.4592 -> 0.4857   acc: 89.57% -> 89.57%             
client [45] (test)  loss: 0.5153 -> 0.5307   acc: 79.93% -> 78.60%             
client [47] (test)  loss: 0.4545 -> 0.4745   acc: 86.42% -> 85.43%             
-------------------------- TRAINING EPOCH: 140 --------------------------      
client [16] (test)  loss: 0.4221 -> 0.4464   acc: 84.38% -> 84.38%             
client [11] (test)  loss: 0.5499 -> 0.5743   acc: 87.01% -> 87.23%             
client [37] (test)  loss: 0.4179 -> 0.8630   acc: 90.29% -> 65.11%             
client [41] (test)  loss: 0.6197 -> 0.5258   acc: 79.95% -> 83.25%             
client [95] (test)  loss: 0.2286 -> 0.2314   acc: 91.54% -> 91.54%             
client [53] (test)  loss: 0.5418 -> 0.5631   acc: 87.50% -> 87.21%             
client [22] (test)  loss: 0.8575 -> 0.8888   acc: 78.24% -> 66.95%             
client [25] (test)  loss: 0.5077 -> 0.6373   acc: 85.98% -> 83.18%             
client [69] (test)  loss: 0.3896 -> 0.4191   acc: 89.74% -> 88.60%             
client [46] (test)  loss: 0.4648 -> 0.4965   acc: 86.83% -> 86.83%             
-------------------------- TRAINING EPOCH: 150 --------------------------      
client [47] (test)  loss: 0.3919 -> 0.3928   acc: 91.72% -> 91.39%             
client [69] (test)  loss: 0.4421 -> 0.4582   acc: 88.32% -> 88.32%             
client [82] (test)  loss: 1.3632 -> 1.2887   acc: 58.94% -> 64.90%             
client [45] (test)  loss: 0.6504 -> 0.5103   acc: 76.92% -> 81.94%             
client [7] (test)  loss: 0.1281 -> 0.1412   acc: 94.75% -> 94.43%              
client [50] (test)  loss: 0.4895 -> 0.5233   acc: 88.66% -> 88.45%             
client [35] (test)  loss: 0.5486 -> 0.5652   acc: 88.53% -> 88.53%             
client [24] (test)  loss: 0.5594 -> 0.5955   acc: 83.04% -> 83.04%             
client [15] (test)  loss: 0.1736 -> 0.1934   acc: 96.02% -> 95.58%             
client [58] (test)  loss: 0.2507 -> 0.2705   acc: 91.67% -> 91.98%             
-------------------------- TRAINING EPOCH: 160 --------------------------      
client [48] (test)  loss: 0.5202 -> 0.5316   acc: 88.24% -> 87.97%             
client [76] (test)  loss: 0.5885 -> 0.5988   acc: 85.86% -> 86.21%             
client [67] (test)  loss: 0.4474 -> 0.4620   acc: 87.03% -> 87.03%             
client [37] (test)  loss: 0.2242 -> 0.2279   acc: 92.09% -> 92.81%             
client [58] (test)  loss: 0.2353 -> 0.2504   acc: 92.90% -> 91.67%             
client [64] (test)  loss: 0.4598 -> 0.4573   acc: 85.27% -> 86.82%             
client [77] (test)  loss: 0.8946 -> 0.5956   acc: 71.01% -> 82.13%             
client [55] (test)  loss: 0.1261 -> 0.0973   acc: 96.61% -> 97.65%             
client [12] (test)  loss: 0.5999 -> 0.6182   acc: 84.35% -> 84.35%             
client [89] (test)  loss: 1.0605 -> 1.0759   acc: 79.78% -> 79.78%             
-------------------------- TRAINING EPOCH: 170 --------------------------      
client [84] (test)  loss: 1.0435 -> 1.0760   acc: 77.20% -> 76.87%             
client [51] (test)  loss: 0.4912 -> 0.4926   acc: 84.57% -> 85.19%             
client [8] (test)  loss: 0.3855 -> 0.3965   acc: 93.49% -> 93.75%              
client [18] (test)  loss: 0.4091 -> 0.4212   acc: 91.21% -> 91.21%             
client [94] (test)  loss: 2.3839 -> 0.7319   acc: 73.53% -> 74.51%             
client [81] (test)  loss: 0.2006 -> 0.2024   acc: 96.48% -> 96.48%             
client [3] (test)  loss: 0.3604 -> 0.3648   acc: 92.56% -> 92.56%              
client [11] (test)  loss: 0.3343 -> 0.3296   acc: 90.04% -> 89.18%             
client [95] (test)  loss: 0.2721 -> 0.2765   acc: 91.91% -> 91.91%             
client [67] (test)  loss: 0.4620 -> 0.4794   acc: 87.03% -> 87.34%             
-------------------------- TRAINING EPOCH: 180 --------------------------      
client [21] (test)  loss: 0.8376 -> 0.8631   acc: 73.56% -> 75.25%             
client [79] (test)  loss: 0.2557 -> 0.2764   acc: 91.54% -> 90.77%             
client [58] (test)  loss: 0.2894 -> 0.3030   acc: 91.98% -> 91.67%             
client [88] (test)  loss: 0.2712 -> 0.2797   acc: 91.71% -> 92.17%             
client [46] (test)  loss: 0.6186 -> 0.6477   acc: 86.83% -> 87.43%             
client [11] (test)  loss: 0.3296 -> 0.3503   acc: 89.18% -> 90.04%             
client [55] (test)  loss: 0.1843 -> 0.1301   acc: 94.78% -> 96.34%             
client [13] (test)  loss: 0.3007 -> 0.5585   acc: 94.21% -> 85.14%             
client [31] (test)  loss: 0.5189 -> 0.5296   acc: 88.14% -> 88.14%             
client [75] (test)  loss: 0.1155 -> 0.1176   acc: 96.96% -> 97.19%             
-------------------------- TRAINING EPOCH: 190 --------------------------      
client [19] (test)  loss: 0.5367 -> 0.5459   acc: 89.52% -> 89.52%             
client [7] (test)  loss: 0.1886 -> 0.1951   acc: 93.11% -> 93.11%              
client [57] (test)  loss: 0.2075 -> 0.2176   acc: 94.35% -> 94.62%             
client [13] (test)  loss: 0.4125 -> 0.3641   acc: 90.18% -> 91.18%             
client [43] (test)  loss: 0.2562 -> 0.1226   acc: 92.17% -> 96.21%             
client [91] (test)  loss: 0.5361 -> 1.1142   acc: 83.26% -> 62.11%             
client [10] (test)  loss: 0.2226 -> 0.2274   acc: 94.70% -> 94.92%             
client [64] (test)  loss: 0.5106 -> 0.5187   acc: 87.60% -> 87.60%             
client [82] (test)  loss: 2.2848 -> 1.3762   acc: 20.53% -> 54.97%             
client [22] (test)  loss: 0.3212 -> 0.3284   acc: 92.05% -> 92.05%             
-------------------------- TRAINING EPOCH: 200 --------------------------      
client [20] (test)  loss: 0.5344 -> 0.5795   acc: 86.78% -> 85.95%             
client [23] (test)  loss: 0.3458 -> 0.3693   acc: 87.88% -> 88.38%             
client [88] (test)  loss: 0.2797 -> 0.2876   acc: 92.17% -> 92.63%             
client [98] (test)  loss: 0.6769 -> 0.6902   acc: 82.16% -> 82.16%             
client [79] (test)  loss: 1.2204 -> 0.2952   acc: 76.15% -> 90.00%             
client [21] (test)  loss: 0.9123 -> 0.9429   acc: 75.59% -> 75.25%             
client [92] (test)  loss: 0.8464 -> 0.8186   acc: 78.29% -> 79.43%             
client [56] (test)  loss: 0.4652 -> 0.4723   acc: 90.72% -> 90.72%             
client [5] (test)  loss: 0.2478 -> 0.2550   acc: 94.42% -> 94.80%              
client [52] (test)  loss: 0.7014 -> 0.7111   acc: 84.92% -> 84.92%             
==================== FedFomo TEST RESULTS: ====================                
{                                                                              
    100: {'loss': '0.5482 -> 0.0000', 'accuracy': '83.79% -> 0.00%'},          
    200: {'loss': '0.4818 -> 0.0000', 'accuracy': '88.98% -> 0.00%'}           
}                                                                              
Convergence (test_before):                                                     
FedFomo achieved 20.0%(20.53%) at epoch: 0                                     
FedFomo achieved 30.0%(35.95%) at epoch: 3                                     
FedFomo achieved 40.0%(43.38%) at epoch: 4                                     
FedFomo achieved 50.0%(56.70%) at epoch: 9                                     
FedFomo achieved 60.0%(66.03%) at epoch: 10                                    
FedFomo achieved 70.0%(73.31%) at epoch: 28                                    
FedFomo achieved 80.0%(80.33%) at epoch: 38                                    
FedFomo achieved 90.0%(90.18%) at epoch: 109                                   
Convergence (test_after):                                                      
FedFomo achieved 50.0%(52.41%) at epoch: 0                                     
FedFomo achieved 60.0%(66.33%) at epoch: 9                                     
FedFomo achieved 70.0%(72.04%) at epoch: 20                                    
FedFomo achieved 80.0%(82.36%) at epoch: 38                                    
FedFomo achieved 90.0%(91.07%) at epoch: 96                                    
