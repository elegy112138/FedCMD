==================== ALGORITHM: FedPer ====================                    
Experiment Arguments:                                                          
{                                                                              
    'model': 'ModifiedVGG11',                                                  
    'dataset': 'svhn',                                                         
    'seed': 42,                                                                
    'join_ratio': 0.1,                                                         
    'global_epoch': 200,                                                       
    'local_epoch': 5,                                                          
    'finetune_epoch': 0,                                                       
    'test_gap': 100,                                                           
    'eval_test': 1,                                                            
    'eval_train': 0,                                                           
    'local_lr': 0.0001,                                                        
    'momentum': 0.0,                                                           
    'weight_decay': 0.0,                                                       
    'verbose_gap': 10,                                                         
    'batch_size': 32,                                                          
    'visible': 1,                                                              
    'global_testset': 0,                                                       
    'straggler_ratio': 0,                                                      
    'straggler_min_local_epoch': 1,                                            
    'external_model_params_file': '',                                          
    'use_cuda': 1,                                                             
    'save_log': 1,                                                             
    'save_model': 0,                                                           
    'save_fig': 1,                                                             
    'save_metrics': 1,                                                         
    'viz_win_name': None,                                                      
    'dataset_args': {                                                          
        'dataset': 'svhn',                                                     
        'client_num': 100,                                                     
        'fraction': 0.5,                                                       
        'seed': 42,                                                            
        'split': 'sample',                                                     
        'alpha': 0.1,                                                          
        'least_samples': 40                                                    
    }                                                                          
}                                                                              
-------------------------- TRAINING EPOCH: 10 --------------------------       
client [77] (test)  loss: 1.5466 -> 0.3330   acc: 41.15% -> 87.87%             
client [81] (test)  loss: 1.7728 -> 0.5609   acc: 41.58% -> 89.11%             
client [21] (test)  loss: 3.1069 -> 1.0787   acc: 7.61% -> 67.39%              
client [68] (test)  loss: 0.7733 -> 0.2964   acc: 79.41% -> 93.14%             
client [93] (test)  loss: 3.2031 -> 1.2165   acc: 10.97% -> 56.73%             
client [31] (test)  loss: 1.4471 -> 1.5892   acc: 46.34% -> 45.12%             
client [20] (test)  loss: 2.3059 -> 1.0144   acc: 20.53% -> 68.25%             
client [59] (test)  loss: 3.4139 -> 1.2011   acc: 5.96% -> 59.75%              
client [48] (test)  loss: 2.7490 -> 1.6498   acc: 19.59% -> 40.21%             
client [34] (test)  loss: 3.1581 -> 1.4107   acc: 20.41% -> 48.98%             
-------------------------- TRAINING EPOCH: 20 --------------------------       
client [69] (test)  loss: 1.9938 -> 1.0765   acc: 40.96% -> 64.41%             
client [99] (test)  loss: 2.4984 -> 0.2190   acc: 18.82% -> 95.11%             
client [67] (test)  loss: 1.9395 -> 0.6806   acc: 42.07% -> 78.32%             
client [0] (test)  loss: 1.5759 -> 0.7898   acc: 45.26% -> 71.34%              
client [76] (test)  loss: 1.9874 -> 0.0769   acc: 18.74% -> 99.10%             
client [41] (test)  loss: 1.2551 -> 0.3717   acc: 54.06% -> 89.70%             
client [62] (test)  loss: 3.5012 -> 1.1490   acc: 14.60% -> 61.80%             
client [2] (test)  loss: 1.6413 -> 0.0119   acc: 44.61% -> 99.84%              
client [14] (test)  loss: 0.8202 -> 0.5950   acc: 78.55% -> 87.25%             
client [46] (test)  loss: 2.1666 -> 1.4021   acc: 26.67% -> 44.17%             
-------------------------- TRAINING EPOCH: 30 --------------------------       
client [24] (test)  loss: 0.7880 -> 0.3916   acc: 72.21% -> 88.32%             
client [68] (test)  loss: 0.4330 -> 0.1681   acc: 86.27% -> 96.08%             
client [57] (test)  loss: 1.5504 -> 0.5580   acc: 31.42% -> 78.89%             
client [17] (test)  loss: 0.4756 -> 0.2563   acc: 83.66% -> 93.39%             
client [54] (test)  loss: 0.7461 -> 0.3943   acc: 72.24% -> 92.24%             
client [23] (test)  loss: 3.0869 -> 0.5481   acc: 5.34% -> 84.35%              
client [35] (test)  loss: 0.0355 -> 0.0316   acc: 99.39% -> 99.62%             
client [59] (test)  loss: 1.6150 -> 1.0100   acc: 43.50% -> 69.86%             
client [31] (test)  loss: 1.4471 -> 1.0050   acc: 52.44% -> 65.85%             
client [9] (test)  loss: 1.2530 -> 0.9361   acc: 55.10% -> 66.24%              
-------------------------- TRAINING EPOCH: 40 --------------------------       
client [64] (test)  loss: 1.0934 -> 0.7348   acc: 69.18% -> 76.13%             
client [33] (test)  loss: 0.0977 -> 0.0822   acc: 97.29% -> 97.97%             
client [16] (test)  loss: 0.8738 -> 0.2304   acc: 68.65% -> 92.97%             
client [44] (test)  loss: 1.7346 -> 0.9141   acc: 53.72% -> 73.97%             
client [8] (test)  loss: 0.6161 -> 0.4443   acc: 84.62% -> 90.38%              
client [31] (test)  loss: 0.8551 -> 1.2955   acc: 75.61% -> 62.20%             
client [47] (test)  loss: 0.0843 -> 0.0023   acc: 98.31% -> 99.84%             
client [36] (test)  loss: 2.0102 -> 1.1037   acc: 54.17% -> 75.00%             
client [20] (test)  loss: 1.1102 -> 0.8018   acc: 58.75% -> 74.90%             
client [56] (test)  loss: 0.1437 -> 0.0230   acc: 96.84% -> 99.63%             
-------------------------- TRAINING EPOCH: 50 --------------------------       
client [4] (test)  loss: 0.4050 -> 0.0756   acc: 92.68% -> 98.17%              
client [60] (test)  loss: 0.7619 -> 0.0105   acc: 75.47% -> 100.00%            
client [28] (test)  loss: 0.6061 -> 0.2963   acc: 84.31% -> 88.13%             
client [25] (test)  loss: 0.7618 -> 0.1294   acc: 70.59% -> 96.64%             
client [58] (test)  loss: 0.4073 -> 0.4086   acc: 84.26% -> 84.10%             
client [44] (test)  loss: 1.5349 -> 0.8944   acc: 59.50% -> 73.14%             
client [39] (test)  loss: 0.9444 -> 0.6426   acc: 63.97% -> 75.74%             
client [29] (test)  loss: 0.4005 -> 0.1767   acc: 88.31% -> 95.89%             
client [3] (test)  loss: 0.7469 -> 0.6447   acc: 77.06% -> 79.68%              
client [84] (test)  loss: 1.3842 -> 1.1217   acc: 56.65% -> 61.60%             
-------------------------- TRAINING EPOCH: 60 --------------------------       
client [21] (test)  loss: 0.9875 -> 0.6695   acc: 68.48% -> 79.35%             
client [84] (test)  loss: 1.2290 -> 1.0761   acc: 61.41% -> 60.84%             
client [10] (test)  loss: 0.1156 -> 0.0942   acc: 96.13% -> 96.41%             
client [36] (test)  loss: 1.3346 -> 0.8660   acc: 75.00% -> 79.17%             
client [65] (test)  loss: 0.0529 -> 0.0237   acc: 98.49% -> 99.73%             
client [81] (test)  loss: 0.4154 -> 0.4125   acc: 91.09% -> 91.09%             
client [79] (test)  loss: 0.3981 -> 0.2032   acc: 88.07% -> 94.60%             
client [42] (test)  loss: 0.8202 -> 0.7220   acc: 73.22% -> 77.63%             
client [11] (test)  loss: 1.0063 -> 0.8108   acc: 74.58% -> 77.97%             
client [96] (test)  loss: 0.3006 -> 0.1950   acc: 91.97% -> 96.35%             
-------------------------- TRAINING EPOCH: 70 --------------------------       
client [8] (test)  loss: 0.3732 -> 0.4483   acc: 92.31% -> 90.38%              
client [53] (test)  loss: 0.3349 -> 0.3328   acc: 90.91% -> 90.10%             
client [52] (test)  loss: 0.1989 -> 0.1546   acc: 93.80% -> 95.18%             
client [42] (test)  loss: 0.5617 -> 0.6525   acc: 83.05% -> 78.98%             
client [69] (test)  loss: 0.6109 -> 0.6348   acc: 79.66% -> 79.10%             
client [59] (test)  loss: 0.7403 -> 0.7963   acc: 75.81% -> 75.81%             
client [7] (test)  loss: 0.0663 -> 0.0281   acc: 98.56% -> 98.72%              
client [26] (test)  loss: 0.3256 -> 0.2869   acc: 87.08% -> 92.00%             
client [49] (test)  loss: 0.4375 -> 0.3190   acc: 85.94% -> 91.69%             
client [98] (test)  loss: 0.3023 -> 0.2886   acc: 89.53% -> 90.89%             
-------------------------- TRAINING EPOCH: 80 --------------------------       
client [98] (test)  loss: 0.3044 -> 0.2827   acc: 90.70% -> 90.89%             
client [47] (test)  loss: 0.0354 -> 0.0013   acc: 99.03% -> 100.00%            
client [21] (test)  loss: 0.7720 -> 0.6978   acc: 78.26% -> 83.70%             
client [77] (test)  loss: 0.1993 -> 0.1971   acc: 94.43% -> 93.93%             
client [95] (test)  loss: 0.4505 -> 0.3784   acc: 86.88% -> 90.95%             
client [91] (test)  loss: 0.5137 -> 0.5787   acc: 82.51% -> 87.21%             
client [14] (test)  loss: 0.3856 -> 0.3904   acc: 89.57% -> 90.43%             
client [99] (test)  loss: 0.2968 -> 0.1184   acc: 90.52% -> 96.98%             
client [20] (test)  loss: 0.6093 -> 0.5750   acc: 81.56% -> 81.56%             
client [39] (test)  loss: 0.4105 -> 0.4849   acc: 86.03% -> 83.09%             
-------------------------- TRAINING EPOCH: 90 --------------------------       
client [52] (test)  loss: 0.1638 -> 0.1427   acc: 94.92% -> 95.09%             
client [62] (test)  loss: 0.7297 -> 0.6710   acc: 77.80% -> 80.60%             
client [71] (test)  loss: 0.6198 -> 0.5954   acc: 75.85% -> 76.31%             
client [97] (test)  loss: 0.0063 -> 0.0008   acc: 99.89% -> 100.00%            
client [30] (test)  loss: 0.1141 -> 0.1024   acc: 96.12% -> 96.90%             
client [88] (test)  loss: 0.0813 -> 0.0655   acc: 97.81% -> 97.94%             
client [60] (test)  loss: 0.0477 -> 0.0152   acc: 100.00% -> 100.00%           
client [82] (test)  loss: 0.8478 -> 0.8102   acc: 73.17% -> 75.61%             
client [91] (test)  loss: 0.5022 -> 0.5451   acc: 86.42% -> 87.47%             
client [57] (test)  loss: 0.4319 -> 0.4675   acc: 84.34% -> 83.76%             
-------------------------- TRAINING EPOCH: 100 --------------------------      
client [31] (test)  loss: 0.6985 -> 0.6980   acc: 82.93% -> 81.71%             
client [15] (test)  loss: 0.2160 -> 0.2181   acc: 92.96% -> 94.36%             
client [71] (test)  loss: 0.6418 -> 0.5893   acc: 73.80% -> 77.45%             
client [97] (test)  loss: 0.0031 -> 0.0009   acc: 99.89% -> 100.00%            
client [53] (test)  loss: 0.2966 -> 0.3159   acc: 91.72% -> 91.72%             
client [77] (test)  loss: 0.1790 -> 0.1789   acc: 94.92% -> 94.59%             
client [76] (test)  loss: 0.1188 -> 0.0594   acc: 96.40% -> 98.20%             
client [79] (test)  loss: 0.2504 -> 0.2010   acc: 93.11% -> 94.84%             
client [28] (test)  loss: 0.2154 -> 0.2287   acc: 92.96% -> 92.15%             
client [99] (test)  loss: 0.1964 -> 0.1162   acc: 93.10% -> 97.13%             
-------------------------- TRAINING EPOCH: 110 --------------------------      
client [97] (test)  loss: 0.0041 -> 0.0009   acc: 99.89% -> 100.00%            
client [86] (test)  loss: 0.6062 -> 0.4808   acc: 85.89% -> 84.63%             
client [34] (test)  loss: 0.3979 -> 0.3821   acc: 87.76% -> 87.76%             
client [73] (test)  loss: 0.0356 -> 0.0363   acc: 99.12% -> 99.41%             
client [5] (test)  loss: 0.4089 -> 0.4732   acc: 86.08% -> 88.61%              
client [96] (test)  loss: 0.2305 -> 0.1917   acc: 94.16% -> 96.35%             
client [22] (test)  loss: 0.8905 -> 1.1627   acc: 74.32% -> 75.68%             
client [60] (test)  loss: 0.0198 -> 0.0104   acc: 100.00% -> 100.00%           
client [66] (test)  loss: 0.6422 -> 0.4421   acc: 79.52% -> 86.01%             
client [83] (test)  loss: 0.5445 -> 0.3850   acc: 80.00% -> 85.00%             
-------------------------- TRAINING EPOCH: 120 --------------------------      
client [76] (test)  loss: 0.0763 -> 0.0667   acc: 98.38% -> 98.20%             
client [65] (test)  loss: 0.0260 -> 0.0200   acc: 99.31% -> 99.73%             
client [95] (test)  loss: 0.3505 -> 0.3355   acc: 92.31% -> 92.76%             
client [17] (test)  loss: 0.1648 -> 0.1933   acc: 96.50% -> 96.50%             
client [8] (test)  loss: 0.4748 -> 0.5161   acc: 90.38% -> 92.31%              
client [35] (test)  loss: 0.0117 -> 0.0133   acc: 99.77% -> 99.62%             
client [98] (test)  loss: 0.2848 -> 0.2847   acc: 91.86% -> 92.05%             
client [53] (test)  loss: 0.2701 -> 0.3124   acc: 92.32% -> 92.53%             
client [43] (test)  loss: 0.2477 -> 0.2153   acc: 92.49% -> 93.41%             
client [64] (test)  loss: 0.6171 -> 0.5911   acc: 83.99% -> 83.38%             
-------------------------- TRAINING EPOCH: 130 --------------------------      
client [21] (test)  loss: 0.6603 -> 0.7616   acc: 79.35% -> 83.70%             
client [88] (test)  loss: 0.0705 -> 0.0597   acc: 97.94% -> 98.35%             
client [38] (test)  loss: 0.0056 -> 0.0028   acc: 99.73% -> 99.86%             
client [3] (test)  loss: 0.4767 -> 0.4499   acc: 85.29% -> 85.99%              
client [5] (test)  loss: 0.4586 -> 0.4804   acc: 87.97% -> 90.51%              
client [41] (test)  loss: 0.1795 -> 0.1629   acc: 95.45% -> 95.05%             
client [7] (test)  loss: 0.0493 -> 0.0294   acc: 98.56% -> 99.20%              
client [37] (test)  loss: 0.0571 -> 0.0353   acc: 99.04% -> 99.40%             
client [45] (test)  loss: 0.1377 -> 0.0762   acc: 96.61% -> 98.31%             
client [47] (test)  loss: 0.0070 -> 0.0006   acc: 99.76% -> 100.00%            
-------------------------- TRAINING EPOCH: 140 --------------------------      
client [16] (test)  loss: 0.1808 -> 0.1629   acc: 94.05% -> 95.14%             
client [11] (test)  loss: 0.8257 -> 0.7782   acc: 83.05% -> 84.75%             
client [37] (test)  loss: 0.0478 -> 0.0354   acc: 99.04% -> 99.52%             
client [41] (test)  loss: 0.1683 -> 0.1666   acc: 95.45% -> 95.05%             
client [95] (test)  loss: 0.3450 -> 0.3462   acc: 92.31% -> 92.31%             
client [53] (test)  loss: 0.2690 -> 0.3043   acc: 93.13% -> 92.93%             
client [22] (test)  loss: 0.8224 -> 1.0093   acc: 77.03% -> 75.68%             
client [25] (test)  loss: 0.1557 -> 0.1126   acc: 95.80% -> 94.12%             
client [69] (test)  loss: 0.5313 -> 0.5116   acc: 83.62% -> 84.46%             
client [46] (test)  loss: 0.5050 -> 0.6374   acc: 82.50% -> 80.83%             
-------------------------- TRAINING EPOCH: 150 --------------------------      
client [47] (test)  loss: 0.0025 -> 0.0009   acc: 99.92% -> 100.00%            
client [69] (test)  loss: 0.5326 -> 0.5008   acc: 83.62% -> 84.75%             
client [82] (test)  loss: 0.9110 -> 0.8740   acc: 73.17% -> 75.61%             
client [45] (test)  loss: 0.1005 -> 0.0726   acc: 96.61% -> 97.46%             
client [7] (test)  loss: 0.0301 -> 0.0261   acc: 98.88% -> 99.20%              
client [50] (test)  loss: 0.4474 -> 0.4386   acc: 87.25% -> 87.25%             
client [35] (test)  loss: 0.0119 -> 0.0131   acc: 99.77% -> 99.70%             
client [24] (test)  loss: 0.2547 -> 0.2686   acc: 92.08% -> 93.15%             
client [15] (test)  loss: 0.2084 -> 0.2289   acc: 94.43% -> 94.29%             
client [58] (test)  loss: 0.2667 -> 0.2745   acc: 91.89% -> 92.37%             
-------------------------- TRAINING EPOCH: 160 --------------------------      
client [48] (test)  loss: 1.3662 -> 1.2724   acc: 65.98% -> 68.04%             
client [76] (test)  loss: 0.1035 -> 0.0938   acc: 97.66% -> 97.48%             
client [67] (test)  loss: 0.4435 -> 0.4838   acc: 86.08% -> 88.51%             
client [37] (test)  loss: 0.0433 -> 0.0365   acc: 99.16% -> 99.52%             
client [58] (test)  loss: 0.2847 -> 0.2819   acc: 92.05% -> 92.05%             
client [64] (test)  loss: 0.6205 -> 0.5885   acc: 84.59% -> 85.50%             
client [77] (test)  loss: 0.1648 -> 0.1495   acc: 95.41% -> 95.25%             
client [55] (test)  loss: 0.0620 -> 0.0675   acc: 98.84% -> 98.84%             
client [12] (test)  loss: 0.2345 -> 0.2671   acc: 93.75% -> 93.75%             
client [89] (test)  loss: 0.1805 -> 0.1849   acc: 95.05% -> 95.23%             
-------------------------- TRAINING EPOCH: 170 --------------------------      
client [84] (test)  loss: 0.9296 -> 1.0043   acc: 72.81% -> 70.91%             
client [51] (test)  loss: 0.3727 -> 0.3796   acc: 91.53% -> 92.06%             
client [8] (test)  loss: 0.4224 -> 0.4507   acc: 92.31% -> 92.31%              
client [18] (test)  loss: 0.3297 -> 0.3758   acc: 90.27% -> 89.23%             
client [94] (test)  loss: 0.1325 -> 0.1168   acc: 95.47% -> 97.23%             
client [81] (test)  loss: 0.4174 -> 0.4015   acc: 88.12% -> 89.11%             
client [3] (test)  loss: 0.5115 -> 0.4304   acc: 85.64% -> 86.87%              
client [11] (test)  loss: 0.8097 -> 0.7296   acc: 85.88% -> 84.75%             
client [95] (test)  loss: 0.3472 -> 0.3270   acc: 91.86% -> 93.21%             
client [67] (test)  loss: 0.4372 -> 0.4757   acc: 86.25% -> 88.19%             
-------------------------- TRAINING EPOCH: 180 --------------------------      
client [21] (test)  loss: 0.6119 -> 0.7597   acc: 83.70% -> 80.43%             
client [79] (test)  loss: 0.2970 -> 0.2058   acc: 92.45% -> 95.14%             
client [58] (test)  loss: 0.2822 -> 0.2888   acc: 91.89% -> 91.57%             
client [88] (test)  loss: 0.0652 -> 0.0603   acc: 98.22% -> 98.35%             
client [46] (test)  loss: 0.5503 -> 0.7039   acc: 80.83% -> 83.33%             
client [11] (test)  loss: 0.8226 -> 0.7484   acc: 85.88% -> 85.31%             
client [55] (test)  loss: 0.0661 -> 0.0660   acc: 98.84% -> 98.84%             
client [13] (test)  loss: 0.2169 -> 0.1770   acc: 91.89% -> 93.65%             
client [31] (test)  loss: 0.7514 -> 0.7591   acc: 80.49% -> 82.93%             
client [75] (test)  loss: 0.5900 -> 0.5508   acc: 86.98% -> 88.92%             
-------------------------- TRAINING EPOCH: 190 --------------------------      
client [19] (test)  loss: 0.3226 -> 0.2956   acc: 89.72% -> 92.02%             
client [7] (test)  loss: 0.0236 -> 0.0247   acc: 99.36% -> 99.20%              
client [57] (test)  loss: 0.4476 -> 0.4649   acc: 83.48% -> 83.38%             
client [13] (test)  loss: 0.2148 -> 0.1872   acc: 92.77% -> 93.65%             
client [43] (test)  loss: 0.2433 -> 0.2192   acc: 92.12% -> 93.59%             
client [91] (test)  loss: 0.4384 -> 0.4849   acc: 88.25% -> 89.03%             
client [10] (test)  loss: 0.0624 -> 0.0653   acc: 99.14% -> 98.71%             
client [64] (test)  loss: 0.5949 -> 0.5705   acc: 85.80% -> 85.20%             
client [82] (test)  loss: 0.9392 -> 0.9570   acc: 75.61% -> 75.61%             
client [22] (test)  loss: 0.8951 -> 1.0285   acc: 77.03% -> 77.03%             
-------------------------- TRAINING EPOCH: 200 --------------------------      
client [20] (test)  loss: 0.5644 -> 0.5152   acc: 83.46% -> 84.60%             
client [23] (test)  loss: 0.4431 -> 0.4814   acc: 91.98% -> 90.84%             
client [88] (test)  loss: 0.0609 -> 0.0632   acc: 98.35% -> 98.35%             
client [98] (test)  loss: 0.2588 -> 0.2809   acc: 93.41% -> 92.83%             
client [79] (test)  loss: 0.2299 -> 0.2085   acc: 94.48% -> 95.38%             
client [21] (test)  loss: 0.7213 -> 0.8072   acc: 82.61% -> 83.70%             
client [92] (test)  loss: 0.5149 -> 0.5251   acc: 86.08% -> 86.34%             
client [56] (test)  loss: 0.0146 -> 0.0148   acc: 99.81% -> 99.81%             
client [5] (test)  loss: 0.4521 -> 0.5015   acc: 88.61% -> 89.24%              
client [52] (test)  loss: 0.1389 -> 0.1497   acc: 96.56% -> 96.47%             
==================== FedPer TEST RESULTS: ====================                 
{                                                                              
    100: {'loss': '0.2766 -> 0.0000', 'accuracy': '91.58% -> 0.00%'},          
    200: {'loss': '0.2574 -> 0.0000', 'accuracy': '93.11% -> 0.00%'}           
}                                                                              
Convergence (test_before):                                                     
FedPer achieved 10.0%(11.79%) at epoch: 1                                      
FedPer achieved 20.0%(21.75%) at epoch: 2                                      
FedPer achieved 40.0%(45.14%) at epoch: 4                                      
FedPer achieved 50.0%(55.93%) at epoch: 13                                     
FedPer achieved 60.0%(69.40%) at epoch: 16                                     
FedPer achieved 70.0%(74.09%) at epoch: 28                                     
FedPer achieved 80.0%(86.22%) at epoch: 39                                     
FedPer achieved 90.0%(90.95%) at epoch: 58                                     
Convergence (test_after):                                                      
FedPer achieved 80.0%(83.64%) at epoch: 0                                      
FedPer achieved 90.0%(90.17%) at epoch: 10                                     
